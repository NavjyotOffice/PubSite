@model IEnumerable<Pubsite_VentesB2B.Models.EmailCampaignLandingPageTrack>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
  <meta name="viewport" content="width=device-width" />
  <title>GetEmailDetailsWithIP</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css" integrity="sha384-SI27wrMjH3ZZ89r4o+fGIJtnzkAnFs3E4qz9DIYioCQ5l9Rd/7UAa8DHcaL8jkWt" crossorigin="anonymous">
</head>
<body>
  <div class="row" style="margin-top:20px"></div>
  @using (Html.BeginForm("Tracker", "GetEmailDetailsWithIP", FormMethod.Get))
  {
    <div class="row">
      <div class="col-3"></div>
      <div class="col-3">
        <input name="Email" id="Email" class="form-control" placeholder="Email ID" />
      </div>
      <div class="col-3">
        <input class="form-control btn btn-primary" type="submit" />
      </div>
    </div>
  }
  <br />
  @if (Model != null && Model.Count() > 0)
  {
    <table class="table">
      <tr>
        <th>
          @Html.DisplayNameFor(model => model.Email)
        </th>
        <th>
          @Html.DisplayNameFor(model => model.IP)
        </th>
        <th>
          @Html.DisplayNameFor(model => model.DateTime)
        </th>
        <th>
          @Html.DisplayName("Device-Browser")
        </th>
        <th>
          @Html.DisplayNameFor(model => model.CampaignName)
        </th>
      </tr>

      @foreach (var item in Model)
      {
        <tr>
          <td>
            @Html.DisplayFor(modelItem => item.Email)
          </td>
          <td>
            @Html.DisplayFor(modelItem => item.IP)
          </td>
          <td>
            @Html.DisplayFor(modelItem => item.DateTime)
          </td>
          <td>
            @Html.DisplayFor(modelItem => item.Device) @if (item.Browser != null) { @Html.DisplayName("-") @Html.DisplayFor(modelItem=>item.Browser) }
          </td>
          <td>
            @Html.DisplayFor(modelItem => item.CampaignName)
          </td>
        </tr>
      }

    </table>
  }
</body>
</html>
